<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>我的Hexo-Github博客搭建笔记</title>
      <link href="/2020/04/10/%E6%88%91%E7%9A%84Hexo-Github%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%AC%94%E8%AE%B0/"/>
      <url>/2020/04/10/%E6%88%91%E7%9A%84Hexo-Github%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="从零开始搭建个人博客"><a href="#从零开始搭建个人博客" class="headerlink" title="从零开始搭建个人博客"></a>从零开始搭建个人博客</h2><p>主要参考以下链接</p><p><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">官方文档</a><br><a href="https://zhuanlan.zhihu.com/p/26625249" target="_blank" rel="noopener">知乎</a><br><a href="https://www.bilibili.com/video/BV1Yb411a7ty" target="_blank" rel="noopener">b站视频</a></p><h3 id="安装依赖包node-js"><a href="#安装依赖包node-js" class="headerlink" title="安装依赖包node.js"></a>安装依赖包node.js</h3><p>一种方法直接上<a href="https://nodejs.org/en/" target="_blank" rel="noopener">node.js</a>安装，该安装包包括node.js和npm</p><p>由于在国内接下来需要更改npm镜像，如下，更多命令参考<a href="">CSDN</a>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><h3 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h3><p>终端运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>然后本地新建一个文件夹如blogs，并cd到该路径，执行初始化，考虑到每个人命名方式不同，blogs/这里我称为<strong>主目录</strong>，</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><h3 id="本地服务器网页-可选"><a href="#本地服务器网页-可选" class="headerlink" title="本地服务器网页(可选)"></a>本地服务器网页(可选)</h3><p>利用PC端生成服务器开启网页，比后面部署到github pages上刷新要快，可用于测试</p><p>先新建一个博客文档，即</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n <span class="built_in">test</span></span><br></pre></td></tr></table></figure><p>此时会在主目录<code>source/_posts</code>下生成一个test.md文件，就是我们的第一个博客test，编辑完毕后保存，然后</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>生成相应的网页文件，然后</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>就会启动本地服务器，点击<a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a>就可以看到博客网页，终端<code>CTRL+C</code>则关闭本地服务器。</p><h3 id="部署到Github-Pages"><a href="#部署到Github-Pages" class="headerlink" title="部署到Github Pages"></a>部署到Github Pages</h3><p>本地服务器生成的网页别人是没法看到的，因此可以选择部署到github pages上。</p><p>首先Github网页上新建一个repo，名字严格为<code>用户民.github.io</code>，比如我的用户名为<code>JohnJim0816</code>，则相应的仓库名为<code>JohnJim0816.github.io</code>。</p><p>然后本地主目录blogs下，终端运行如下命令安装hexo-deployer-git。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>然后在主目录的配置文件<code>_config.yml</code>中(这里称之为站点配置文件，后面还有一个同名的主题配置文件)，找到deploy部分，并更改如下，注意repo部分根据个人github用户名而定。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/JohnJim0816/JohnJim0816.github.io</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>配置完成之后，使用<code>hexo n 博客题目</code> 新建，<code>hexo g</code>生成，然后<code>hexo d</code>发布，也可以<code>hexo g -d</code>将两步合为一步。然后需要等待一段时间，就可以在<code>https://johnjim0816.github.io/</code>看到自己的博客了。</p><p><img src="https://raw.githubusercontent.com/JohnJim0816/blog-figures/master/2020/4/10/1.png" alt="fig1"></p><h2 id="安装next主题来装点博客"><a href="#安装next主题来装点博客" class="headerlink" title="安装next主题来装点博客"></a>安装next主题来装点博客</h2><p>hexo自带的主题是landscape，对应带主目录<code>themes</code>文件夹下，这个主题只能说是平平无奇！！！<br>因此需要安装一个靓靓的主题来使我们的博客秀色可餐，这里推荐<a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">next主题</a>，截止2020年4月10日该主题已经更新到了v7.8.0。注意还有一个<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">iissnan/hexo-theme-next</a>，这个虽然star很多但是已经不维护了，所以推荐前面一个。可以直接下载整个仓库并在本地解压，将名字改为next，然后放到主目录下的<code>themes</code>文件夹下。</p><p>在站点配置文件即<code>blogs/_config.yml</code>中将语言更改为中文，如下，注意冒号之后有一个空格</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">language: zh-CN</span><br></pre></td></tr></table></figure><p>并且将主题改为next：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure><p>保存之后使用hexo g -d可以看到初步效果，不过在类似于这些测试的操作还是建议在本地服务器上进行，github page刷新的速度简直就是谜一样的存在。</p><h2 id="后续优化"><a href="#后续优化" class="headerlink" title="后续优化"></a>后续优化</h2><h3 id="给本地文章md文件按年月分类"><a href="#给本地文章md文件按年月分类" class="headerlink" title="给本地文章md文件按年月分类"></a>给本地文章md文件按年月分类</h3><p>现在<code>hexo n 文章名</code>会在<code>source/_posts/</code>下创建文件，但是如果文章太多的话放在同一个目录下不好管理，此时可以更改站点配置文件<code>blogs/_config.yml</code>中的<code>new_post_name</code>，如下</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">new_post_name:</span> <span class="string">:year/:month/:title.md</span></span><br></pre></td></tr></table></figure><p>这样<code>hexo n 文章名</code>之后会在<code>source/_posts/</code>创建比如2020/04/文章名.md文件，即按年月分类。</p><h3 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h3><p>插入图片这个搞了我好久，首先强烈建议使用图床，常见的可以搜索Github+PigGo。然后文章中直接按如下格式即可。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">fig1</span>](<span class="link">https://raw.githubusercontent.com/JohnJim0816/blog-figures/master/2020/4/10/1.png</span>)</span><br></pre></td></tr></table></figure><p>插入本地图片的方式参考<a href="https://blog.csdn.net/JohnJim0/article/details/105430915" target="_blank" rel="noopener">CSDN</a>，注意hexo-asset-image模块的安装可能会造成文章目录中文乱码的bug，如下：</p><p><img src="https://raw.githubusercontent.com/JohnJim0816/blog-figures/master/2020/4/10/2.png" alt="fig2"></p><h3 id="添加站内搜索"><a href="#添加站内搜索" class="headerlink" title="添加站内搜索"></a>添加站内搜索</h3><p>首先安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>然后站点配置文件<code>blogs/_config.yml</code>添加</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">./public/search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><p>主题配置文件<code>themes/next/_config.yml</code>设置</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If auto, trigger search by changing input.</span></span><br><span class="line">  <span class="comment"># If manual, trigger search by pressing enter key or search button.</span></span><br><span class="line">  <span class="attr">trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="给网页文章增加分类和标签"><a href="#给网页文章增加分类和标签" class="headerlink" title="给网页文章增加分类和标签"></a>给网页文章增加分类和标签</h3><p>首先<code>hexo n page categories</code>以及<code>hexo n page tags</code>新建目录页和标签页，此时本地<code>source</code>文件夹下会生成相应的文件夹，将比如<code>categories</code>中的index.md更改如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2020-04-10 21:53:23</span><br><span class="line">type: categories</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>关键是type这一项，<code>tags</code>也同理，</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2020-04-10 21:53:46</span><br><span class="line">type: tags</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>然后在文章开头的Front-matter部分，写上相应分类和标签，如下</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 我的Hexo-Github博客搭建笔记</span><br><span class="line">date: 2020-04-10 21:29:41</span><br><span class="line">categories: 野生技术</span><br><span class="line">tags: </span><br><span class="line"><span class="bullet">    - </span>hexo</span><br><span class="line"><span class="bullet">    - </span>笔记</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>再到主题配置文件，即<code>themes</code>下的<code>_config.yml</code>文件，找到<code>menu</code>部分，配置如下：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br></pre></td></tr></table></figure><p>其中<code>||</code>后面指向图标的链接，如果没有则图标默认是问号。</p><p>由此可以类推新建一个类似于标签、分类这样的菜单栏，可参考<a href="https://hoxis.github.io/Hexo+Next%20%E6%96%B0%E5%A2%9E%E8%8F%9C%E5%8D%95%E5%88%86%E7%B1%BB%E9%A1%B5%E9%9D%A2.html" target="_blank" rel="noopener">这个博客</a></p><h3 id="增加百度统计"><a href="#增加百度统计" class="headerlink" title="增加百度统计"></a>增加百度统计</h3><p>可参考<a href="http://theme-next.iissnan.com/getting-started.html#theme-settings" target="_blank" rel="noopener">官方文档</a></p><h3 id="如何开启阅读全文"><a href="#如何开启阅读全文" class="headerlink" title="如何开启阅读全文"></a>如何开启阅读全文</h3><p>在文章中加入<code>&lt;!-- more --&gt;</code>即可，参考<a href="https://theme-next.org/docs/theme-settings/posts" target="_blank" rel="noopener">官方文档</a></p>]]></content>
      
      
      <categories>
          
          <category> 野生技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
